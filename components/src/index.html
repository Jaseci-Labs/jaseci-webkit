<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Stencil Component Starter</title>

    <script type="module" src="/build/components.esm.js"></script>
    <script nomodule src="/build/components.js"></script>
    <link rel="stylesheet" href="/build/components.css" />
  </head>
  <style>
    body {
      width: 100%;
      margin: 0;
      height: 100%;
    }
  </style>
  <body>
    <jsc-app></jsc-app>
    <!-- <my-component first="Stencil" last="'Don't call me a framework' JS"></my-component> -->
    <script>
      customElements.whenDefined('jsc-app').then(() => {
        const app = document.querySelector('jsc-app');
        app.markup = [
          {
            component: 'Navbar',
            sections: {
              links: [
                { component: 'NavLink', props: { label: 'Home', href: 'https://google.com', color: '#fff' } },
                { component: 'NavLink', props: { label: 'About', href: 'https://google.com', color: '#fff' } },
              ],
            },
            props: { label: 'Jaseci App' },
            css: { background: '#000000' },
          },
          {
            component: 'Container',
            css: {
              width: '100%',
              height: '100%',
              border: '2px solid blue',
              padding: '10px',
            },
            sections: {
              children: [
                {
                  component: 'Row',
                  props: {
                    justify: 'around',
                  },
                  css: {
                    width: '100%',
                    padding: '10px 0px',
                  },
                  sections: {
                    children: [
                      {
                        component: 'Column',
                        css: {
                          width: '400px',
                          height: '600px',
                          padding: '10px',
                          background: 'rgba(155, 0, 50, 0.2)',
                        },
                        props: {
                          justify: 'center',
                          items: 'start',
                        },
                        sections: {
                          children: [
                            {
                              component: 'Container',
                              css: {
                                width: '100px',
                                background: 'green',
                                height: '100px',
                              },
                            },
                            {
                              component: 'Container',
                              props: {},
                              css: {
                                width: '100px',
                                background: 'blue',
                                height: '100px',
                              },
                            },
                            {
                              component: 'Container',
                              css: {
                                width: '100px',
                                background: 'red',
                                height: '100px',
                              },
                            },
                          ],
                        },
                      },
                      {
                        component: 'Row',
                        sections: {
                          children: [
                            {
                              component: 'Container',
                              css: {
                                width: '100px',
                                height: '100px',
                                background: 'purple',
                                border: '2px solid red',
                              },
                            },
                            {
                              component: 'Container',
                              css: {
                                width: '100px',
                                height: '100px',
                                background: 'blue',
                                border: '2px solid purple',
                              },
                            },
                            {
                              component: 'Container',
                              css: {
                                width: '100px',
                                height: '100px',
                                background: 'green',
                                border: '2px solid blue',
                              },
                            },
                          ],
                        },
                        props: {
                          // justify: 'around',
                          items: 'center',
                        },
                        css: {
                          width: '400px',
                          height: '300px',
                          padding: '10px',
                          background: 'rgba(155, 0, 50, 0.2)',
                        },
                      },
                    ],
                  },
                },
                {
                  name: 'ib1',
                  component: 'Inputbox',
                  props: {
                    label: 'Name',
                    value: '',
                    placeholder: 'Enter your name',
                    fullwidth: 'true',
                    margin: '10px 0',
                  },
                  events: {
                    onEnterKeyPress: [
                      {
                        fn: 'runOperation',
                        operation: 'msgs.appendMessage',
                        args: ['Hello world.'],
                      },
                    ],
                  },
                },
                {
                  name: 'textBox1',
                  component: 'Textbox',
                  props: {
                    placeholder: 'Enter a message...',
                    label: 'Biography',
                    fullwidth: 'true',
                    margin: '10px 0',
                  },
                },
                {
                  name: 'b1',
                  component: 'Button',
                  events: {
                    onClick: [
                      {
                        fn: 'update',
                        args: ['textBox1.placeholder', 'var(ib1.placeholder)'],
                      },
                      {
                        fn: 'update',
                        args: ['b1.label', 'var(ib1.value)'],
                      },
                    ],
                  },
                  css: {
                    marginTop: '10px',
                  },
                  props: {
                    label: 'Click Here',
                  },
                },

                {
                  name: 'msgs',
                  component: 'Container',
                  css: {
                    width: '300px',
                    height: '200px',
                    background: '#fff',
                    border: '1px solid red',
                    margin: '10px 0',
                    padding: '0px 8px',
                  },
                  operations: {
                    alertMessage: {
                      args: ['message1', 'message2'],
                      run: [
                        { fn: 'alert', args: ['arg(message1) huh'] },
                        { fn: 'alert', args: ['arg(message2) cool'] },
                      ],
                    },
                    appendMessage: {
                      args: ['messageBody'],
                      run: [
                        {
                          fn: 'append',
                          args: [
                            {
                              component: 'Text',
                              props: { value: 'var(messageBody) cool' },
                            },
                          ],
                        },
                      ],
                    },
                  },
                },
                {
                  component: 'Button',
                  props: { label: 'View Operations' },
                  events: {
                    onClick: [{ fn: 'alert', args: ['var(msgs.operations)'] }],
                  },
                },
                // run the messages operation
                {
                  component: 'Button',
                  props: { label: 'Run Operations' },
                  events: {
                    onClick: [
                      {
                        fn: 'runOperation',
                        operation: 'msgs.alertMessage',
                        args: ['does this work well?', 'This is another message'],
                        onCompleted: { fn: 'alert', args: ['Phase 1 Done'] },
                      },
                      {
                        fn: 'runOperation',
                        operation: 'msgs.alertMessage',
                        args: ['new message', 'Cool shiz', 'bug?'],
                      },
                    ],
                  },
                },

                {
                  component: 'Container',
                  sections: {
                    children: [
                      {
                        component: 'Text',
                        props: { value: 'Counter' },
                        css: { fontWeight: 'bold', fontSize: '1.2em', textDecoration: 'underline' },
                      },
                      {
                        component: 'Row',
                        sections: {
                          children: [
                            {
                              component: 'Text',
                              props: { value: 'Current value: ' },
                              css: { marginRight: '5px' },
                            },
                            {
                              name: 'counterText',
                              component: 'Text',
                              props: { value: '0' },
                            },
                          ],
                        },
                      },
                      {
                        name: 'counterButton',
                        component: 'Button',
                        props: { label: 'Count' },
                        events: {
                          onClick: [
                            {
                              fn: 'add',
                              args: ['var(counterText.value)', 1],
                              cond: ['var(counterText.value)::#neq::10'],
                              onCompleted: {
                                fn: 'update',
                                args: ['counterText.value', 'var(result)'],
                              },
                            },
                          ],
                        },
                      },
                    ],
                  },
                },
              ],
            },
          },
        ];
      });
    </script>
  </body>
</html>
